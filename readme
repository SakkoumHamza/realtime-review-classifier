# ğŸ§  Amazon Kindle Real-Time Review Classifier ğŸš€

**Data Engineering & AI Project**  
>Real-time sentiment classification of Kindle reviews using a **Kafka + Spark + LSTM (TensorFlow/Keras) + Cassandra** pipeline.


## ğŸš€ Functionalities

âœ… Real-time streaming from **Kafka**  
âœ… Scalable, fault-tolerant pipeline using **PySpark Structured Streaming**  
âœ… **LSTM** deep learning model with **97.5% accuracy** on unseen data  
âœ… Seamless integration with **Apache Cassandra**, a distributed NoSQL database

---
## ğŸ“¸ Screenshots

### ğŸ”¹ Confusion matrix of the model 
![Confusion matrix](screenshots/cm.png)

### ğŸ”¹ Kafka producer logs
![Kafka producer logs](screenshots/kafka.png)

### ğŸ”¹ Spark consumer logs
![Spark consumer logs](screenshots/spark.png)

### ğŸ”¹ Cassandra target table
![Cassandra target table](screenshots/cassandra.png)


---

## ğŸ› ï¸ Tech Stack

| Component         | Technology                    |
|------------------|-------------------------------|
| Ingestion         | Apache Kafka                 |
| Stream Processing | Apache Spark Structured Streaming |
| AI Model          | LSTM (Keras)                 |
| Database          | Apache Cassandra             |
| Model Format      | `.h5` (Keras)                |

---

## âš™ï¸ Pipeline Architecture

```text
Kafka (Kindle reviews stream)
        â†“
Spark Structured Streaming
        â†“
Text Preprocessing + LSTM Sentiment Inference
        â†“
Apache Cassandra (target database)

```
## ğŸ‘¨ğŸ»â€ğŸ’» Structure de projet

```text
â”œâ”€â”€ data/                    
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ model.h5                # Trained LSTM model
â”‚   â”œâ”€â”€ model_creation.ipynb    # Model creation notebook
â”‚   â””â”€â”€ tokenizer.pkl           # Tokenizer for text preprocessing
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ spark_consumer.py      
â”‚   â”œâ”€â”€ kafka_producer.py      
â”‚   â””â”€â”€ download_data.py            
â”œâ”€â”€ requirements.txt            # Python dependencies
â”œâ”€â”€ docker-compose.yml             
â”œâ”€â”€ checkpoint.txt
â””â”€â”€ README.md                   # You're here!

```

## ğŸ§ª Exemple

```text

Before ->

| reviewID  | reviewerName |  review_text                | reviewTime |
|-----------|--------------|-----------------------------|------------|
| 123abc    | Hamza        | The book was wonderfull!    |  1-18-2013 |

After ->

| reviewID  | reviewerName |  review_text                | sentiment  | reviewTime |
|-----------|--------------|-----------------------------|------------|------------|
| 123abc    |  Hamza       | The book was wonderfull!    | Positive   |  1-18-2013 |

```
 

## ğŸ”§ Setup Instructions 

ğŸ“¦  **Install dependencies**

```bash
pip install -r requirements.txt
```

ğŸ³ **Compose the containers**

```bash
docker-compose up -d
```
ğŸš€ **Launch the kafka producer**

```bash
python src/kafka_producer.py
```

ğŸ”„ **Launch the Spark Structured Streaming job**

```bash
python src/spark_consumer.py
```

ğŸ“Š **Monitor Cassandra**

```bash
docker exec -it cassandra cqlsh
```

```sql
-- Query the reviews table
SELECT * FROM kindle_reviews.reviews;
```
